blood<<-blood-1
px<<-0.5
py<<-0.5
if (blood==0)
{
plot.new()
text(0.5,0.5,paste("Game over, score:",toString(score)),cex=2,col="red")
readline(prompt="Press [enter] to restart:")
px<<-0.5
py<<-0.5
blood<<-3
score<<-0
}
}
if(key=="Right")
{
flag<-TRUE
index<--1
for (i in 1:5){
if(py>=total[i,2]-0.05&&py<=total[i,2]+0.05&&px>=total[i,1]-0.05&&px<=total[i,1]+total[i,3]){
flag=FALSE
index=i
}
}
if(!flag)
{
py<<-total[index,2]+0.05
}
if (px<0.97){
px<<-px+0.03
}
}
else if(key=="Left")
{
flag<-TRUE
index<--1
for (i in 1:5){
if(py>=total[i,2]-0.05&&py<=total[i,2]+0.05&&px>=total[i,1]-0.05&&px<=total[i,1]+total[i,3]){
flag=FALSE
index=i
}
}
if(!flag)
{
py<<-total[index,2]+0.05
}
if (px>0.03){
px<<-px-0.03
}
}
else if(key=="Down")
{
flag<-TRUE
index<--1
for (i in 1:5){
if(py>=total[i,2]-0.05&&py<=total[i,2]+0.05&&px>=total[i,1]-0.05&&px<=total[i,1]+total[i,3]){
flag=FALSE
index=i
}
}
if (flag){
py<<-py-0.03
if(py<0)
{
py<<-0.95
}
}
else
{
py<<-total[index,2]+0.05
}
}
plot.new()
rasterImage(img,px,py,px+0.1,py+0.1)
rectangle(0,1.02,1,0.02,"red")
text(0.9,0.95,paste("blood:",toString(blood)),cex=2,col="red")
text(0.1,0.95,paste("score:",toString(score)),cex=2,col="blue")
plot()
}
}
require(jpeg)
X11()
p1<-readJPEG("kid3.jpg")
p2<-readJPEG("kid4.jpg")
p3<-readJPEG("kid1.jpg")
p4<-readJPEG("kid2.jpg")
plot.new()
rasterImage(p1,0,0,0.5,0.5)
rasterImage(p2,0.5,0,1,0.5)
rasterImage(p3,0,0.5,0.5,1)
rasterImage(p4,0.5,0.5,1,1)
text(0.1,0.9,"1",cex=2,col="red")
text(0.9,0.9,"2",cex=2,col="red")
text(0.1,0.1,"3",cex=2,col="red")
text(0.9,0.1,"4",cex=2,col="red")
library(svDialogs)
input<-dlgInput(message="Select a kid")$res
print(input)
filename<-"no"
if(input=="1")
{
filename<-"kid1.jpg"
}
if(input=="2")
{
filename<-"kid2.jpg"
}
if(input=="3")
{
filename<-"kid3.jpg"
}
if(input=="4")
{
filename<-"kid4.jpg"
}
text(0.5,0.5,"Select a kid",cex=2,col="blue")
img<-readJPEG(filename)
plot.new()
rasterImage(img,px,py,px+0.1,py+0.1)
text(0.9,0.95,paste("life:",toString(blood)),cex=2,col="red")
text(0.1,0.95,paste("score:",toString(score)),cex=2,col="blue")
rectangle(0,1.02,1,0.02,"red")
generate()
getGraphicsEvent(prompt="ladder game",onKeybd=keydown)
px<<-0.5
py<<-0.5
total<<-matrix(c(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),nrow=5,ncol=4)
blood<<-3
score<<-0
rectangle<-function(x,y,w,h,color){
polygon(c(x,x,x+w,x+w),c(y,y+h,y+h,y),col=color,border=NA)
}
random<-function(l,r){
result=sample(l:r,1)/100
result
}
generate<-function(){
for (i in 1:5) {
colors<-c("chocolate4","darkgoldenrod1","blue")
x<<-random(0,60)
w<<-random(30,50-x*40)
total[i,1]<<-x
total[i,2]<<-i*0.2-0.1
total[i,3]<<-w
total[i,4]<<-0.05
rectangle(x,i*0.2-0.1,w,0.05,"chocolate4")
}
}
plot<-function(){
for (i in 1:5) {
rectangle(total[i,1],total[i,2],total[i,3],total[i,4],"chocolate4")
}
}
move<-function(){
for (i in 1:5) {
total[i,2]<<-total[i,2]+0.01
if(i==5&&total[i,2]>1)
{
score<<-score+1
total[5,1]<<-total[4,1]
total[5,2]<<-total[4,2]
total[5,3]<<-total[4,3]
total[5,4]<<-total[4,4]
total[4,1]<<-total[3,1]
total[4,2]<<-total[3,2]
total[4,3]<<-total[3,3]
total[4,4]<<-total[3,4]
total[3,1]<<-total[2,1]
total[3,2]<<-total[2,2]
total[3,3]<<-total[2,3]
total[3,4]<<-total[2,4]
total[2,1]<<-total[1,1]
total[2,2]<<-total[1,2]
total[2,3]<<-total[1,3]
total[2,4]<<-total[1,4]
x<<-random(0,60)
w<<-random(30,50-x*40)
total[1,1]<<-x
total[1,2]<<-0.1
total[1,3]<<-w
total[1,4]<<-0.05
rectangle(x,0.1,w,0.05,"chocolate4")
}
}
}
keydown<-function(key){
if(key=="Right"||key=="Left"||key=="Down")
{
if (py<total[5,2]||total[5,2]<0.95|total[5,1]-0.05>px||total[5,1]+total[5,3]<px)
{
move()
}
else
{
blood<<-blood-1
px<<-0.5
py<<-0.5
if (blood==0)
{
plot.new()
text(0.5,0.5,paste("Game over, score:",toString(score)),cex=2,col="red")
readline(prompt="Press [enter] to restart:")
px<<-0.5
py<<-0.5
blood<<-3
score<<-0
}
}
if(key=="Right")
{
flag<-TRUE
index<--1
for (i in 1:5){
if(py>=total[i,2]-0.05&&py<=total[i,2]+0.05&&px>=total[i,1]-0.05&&px<=total[i,1]+total[i,3]){
flag=FALSE
index=i
}
}
if(!flag)
{
py<<-total[index,2]+0.05
}
if (px<0.97){
px<<-px+0.03
}
}
else if(key=="Left")
{
flag<-TRUE
index<--1
for (i in 1:5){
if(py>=total[i,2]-0.05&&py<=total[i,2]+0.05&&px>=total[i,1]-0.05&&px<=total[i,1]+total[i,3]){
flag=FALSE
index=i
}
}
if(!flag)
{
py<<-total[index,2]+0.05
}
if (px>0.03){
px<<-px-0.03
}
}
else if(key=="Down")
{
flag<-TRUE
index<--1
for (i in 1:5){
if(py>=total[i,2]-0.05&&py<=total[i,2]+0.05&&px>=total[i,1]-0.05&&px<=total[i,1]+total[i,3]){
flag=FALSE
index=i
}
}
if (flag){
py<<-py-0.03
if(py<0)
{
py<<-0.95
}
}
else
{
py<<-total[index,2]+0.05
}
}
plot.new()
rasterImage(img,px,py,px+0.1,py+0.1)
rectangle(0,1.02,1,0.02,"red")
text(0.9,0.95,paste("blood:",toString(blood)),cex=2,col="red")
text(0.1,0.95,paste("score:",toString(score)),cex=2,col="blue")
plot()
}
}
require(jpeg)
X11()
p1<-readJPEG("kid3.jpg")
p2<-readJPEG("kid4.jpg")
p3<-readJPEG("kid1.jpg")
p4<-readJPEG("kid2.jpg")
plot.new()
rasterImage(p1,0,0,0.5,0.5)
rasterImage(p2,0.5,0,1,0.5)
rasterImage(p3,0,0.5,0.5,1)
rasterImage(p4,0.5,0.5,1,1)
text(0.1,0.9,"1",cex=2,col="red")
text(0.9,0.9,"2",cex=2,col="red")
text(0.1,0.1,"3",cex=2,col="red")
text(0.9,0.1,"4",cex=2,col="red")
library(svDialogs)
input<-dlgInput(message="Select a kid")$res
print(input)
filename<-"no"
if(input=="1")
{
filename<-"kid1.jpg"
}
if(input=="2")
{
filename<-"kid2.jpg"
}
if(input=="3")
{
filename<-"kid3.jpg"
}
if(input=="4")
{
filename<-"kid4.jpg"
}
text(0.5,0.5,"Select a kid",cex=2,col="blue")
img<-readJPEG(filename)
plot.new()
rasterImage(img,px,py,px+0.1,py+0.1)
text(0.9,0.95,paste("life:",toString(blood)),cex=2,col="red")
text(0.1,0.95,paste("score:",toString(score)),cex=2,col="blue")
rectangle(0,1.02,1,0.02,"red")
generate()
getGraphicsEvent(prompt="ladder game",onKeybd=keydown)
px<<-0.5
py<<-0.5
total<<-matrix(c(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),nrow=5,ncol=4)
life<<-3
score<<-0
rectangle<-function(x,y,w,h,color){
polygon(c(x,x,x+w,x+w),c(y,y+h,y+h,y),col=color,border=NA)
}
random<-function(l,r){
result=sample(l:r,1)/100
result
}
generate<-function(){
for (i in 1:5) {
colors<-c("chocolate4","darkgoldenrod1","blue")
x<<-random(0,60)
w<<-random(30,50-x*40)
total[i,1]<<-x
total[i,2]<<-i*0.2-0.1
total[i,3]<<-w
total[i,4]<<-0.05
rectangle(x,i*0.2-0.1,w,0.05,"chocolate4")
}
}
plot<-function(){
for (i in 1:5) {
rectangle(total[i,1],total[i,2],total[i,3],total[i,4],"chocolate4")
}
}
move<-function(){
for (i in 1:5) {
total[i,2]<<-total[i,2]+0.01
if(i==5&&total[i,2]>1)
{
score<<-score+1
total[5,1]<<-total[4,1]
total[5,2]<<-total[4,2]
total[5,3]<<-total[4,3]
total[5,4]<<-total[4,4]
total[4,1]<<-total[3,1]
total[4,2]<<-total[3,2]
total[4,3]<<-total[3,3]
total[4,4]<<-total[3,4]
total[3,1]<<-total[2,1]
total[3,2]<<-total[2,2]
total[3,3]<<-total[2,3]
total[3,4]<<-total[2,4]
total[2,1]<<-total[1,1]
total[2,2]<<-total[1,2]
total[2,3]<<-total[1,3]
total[2,4]<<-total[1,4]
x<<-random(0,60)
w<<-random(30,50-x*40)
total[1,1]<<-x
total[1,2]<<-0.1
total[1,3]<<-w
total[1,4]<<-0.05
rectangle(x,0.1,w,0.05,"chocolate4")
}
}
}
keydown<-function(key){
if(key=="Right"||key=="Left"||key=="Down")
{
if (py<total[5,2]||total[5,2]<0.95|total[5,1]-0.05>px||total[5,1]+total[5,3]<px)
{
move()
}
else
{
life<<-life-1
px<<-0.5
py<<-0.5
if (life==0)
{
plot.new()
text(0.5,0.5,paste("Game over, score:",toString(score)),cex=2,col="red")
readline(prompt="Press [enter] to restart:")
px<<-0.5
py<<-0.5
life<<-3
score<<-0
}
}
if(key=="Right")
{
flag<-TRUE
index<--1
for (i in 1:5){
if(py>=total[i,2]-0.05&&py<=total[i,2]+0.05&&px>=total[i,1]-0.05&&px<=total[i,1]+total[i,3]){
flag=FALSE
index=i
}
}
if(!flag)
{
py<<-total[index,2]+0.05
}
if (px<0.97){
px<<-px+0.03
}
}
else if(key=="Left")
{
flag<-TRUE
index<--1
for (i in 1:5){
if(py>=total[i,2]-0.05&&py<=total[i,2]+0.05&&px>=total[i,1]-0.05&&px<=total[i,1]+total[i,3]){
flag=FALSE
index=i
}
}
if(!flag)
{
py<<-total[index,2]+0.05
}
if (px>0.03){
px<<-px-0.03
}
}
else if(key=="Down")
{
flag<-TRUE
index<--1
for (i in 1:5){
if(py>=total[i,2]-0.05&&py<=total[i,2]+0.05&&px>=total[i,1]-0.05&&px<=total[i,1]+total[i,3]){
flag=FALSE
index=i
}
}
if (flag){
py<<-py-0.03
if(py<0)
{
py<<-0.95
}
}
else
{
py<<-total[index,2]+0.05
}
}
plot.new()
rasterImage(img,px,py,px+0.1,py+0.1)
rectangle(0,1.02,1,0.02,"red")
text(0.9,0.95,paste("life:",toString(life)),cex=2,col="red")
text(0.1,0.95,paste("score:",toString(score)),cex=2,col="blue")
plot()
}
}
require(jpeg)
X11()
p1<-readJPEG("kid3.jpg")
p2<-readJPEG("kid4.jpg")
p3<-readJPEG("kid1.jpg")
p4<-readJPEG("kid2.jpg")
plot.new()
rasterImage(p1,0,0,0.5,0.5)
rasterImage(p2,0.5,0,1,0.5)
rasterImage(p3,0,0.5,0.5,1)
rasterImage(p4,0.5,0.5,1,1)
text(0.1,0.9,"1",cex=2,col="red")
text(0.9,0.9,"2",cex=2,col="red")
text(0.1,0.1,"3",cex=2,col="red")
text(0.9,0.1,"4",cex=2,col="red")
library(svDialogs)
input<-dlgInput(message="Select a kid")$res
print(input)
filename<-"no"
if(input=="1")
{
filename<-"kid1.jpg"
}
if(input=="2")
{
filename<-"kid2.jpg"
}
if(input=="3")
{
filename<-"kid3.jpg"
}
if(input=="4")
{
filename<-"kid4.jpg"
}
text(0.5,0.5,"Select a kid",cex=2,col="blue")
img<-readJPEG(filename)
plot.new()
rasterImage(img,px,py,px+0.1,py+0.1)
text(0.9,0.95,paste("life:",toString(life)),cex=2,col="red")
text(0.1,0.95,paste("score:",toString(score)),cex=2,col="blue")
rectangle(0,1.02,1,0.02,"red")
generate()
getGraphicsEvent(prompt="ladder game",onKeybd=keydown)
